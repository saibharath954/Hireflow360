# ============================================
# AI Resume Intake & HR Platform - Environment
# ============================================

# ========================
# APPLICATION CONFIGURATION
# ========================

# Application environment
ENVIRONMENT=development  # development, staging, production
APP_NAME="AI Resume Intake & HR Platform"
APP_VERSION=1.0.0

# FastAPI Configuration
API_V1_STR=/api
PROJECT_NAME="AI Resume Intake & HR Platform"
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_RELOAD=true  # Set to false in production

# Upload Configuration
UPLOAD_DIR=./uploads
MAX_UPLOAD_SIZE=10485760  # 10MB in bytes
ALLOWED_FILE_TYPES=pdf,docx,doc,png,jpg,jpeg
MAX_FILES_PER_UPLOAD=10

# ========================
# SECURITY & AUTHENTICATION
# ========================

# JWT Configuration (CHANGE IN PRODUCTION!)
SECRET_KEY=your-super-secret-jwt-key-change-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=10080  # 7 days in minutes
REFRESH_TOKEN_EXPIRE_DAYS=30

# Password Security
BCRYPT_ROUNDS=12
PASSWORD_MIN_LENGTH=8
PASSWORD_MAX_LENGTH=128

# CORS Configuration
BACKEND_CORS_ORIGINS=["http://localhost:8080","https://your-production-frontend.com"]
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["GET","POST","PUT","DELETE","OPTIONS","PATCH"]
CORS_ALLOW_HEADERS=["Authorization","Content-Type","X-Requested-With"]

# ========================
# DATABASE CONFIGURATION
# ========================

# PostgreSQL Configuration
DATABASE_URL=postgresql://postgres:password@localhost:5432/hr_platform
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=40
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600  # Recycle connections after 1 hour

# Redis Configuration (for Celery & caching)
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=
REDIS_MAX_CONNECTIONS=20
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# ========================
# BACKGROUND JOBS (CELERY)
# ========================

# Celery Configuration
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/1
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=["json"]
CELERY_TIMEZONE=UTC
CELERY_ENABLE_UTC=True
CELERY_TASK_TRACK_STARTED=True
CELERY_TASK_TIME_LIMIT=30 * 60  # 30 minutes
CELERY_TASK_SOFT_TIME_LIMIT=20 * 60  # 20 minutes

# Job Configuration
JOB_MAX_RETRIES=3
JOB_RETRY_DELAY=60  # seconds
PARSE_RESUME_TIMEOUT=300  # 5 minutes for resume parsing
SEND_MESSAGE_TIMEOUT=120  # 2 minutes for message sending

# ========================
# MOCK MODE CONFIGURATION
# ========================

# Operation Mode
MOCK_MODE=true  # true for mock, false for real integrations
SIMULATE_DELAY=true  # Simulate network delays in mock mode
MOCK_MIN_DELAY_MS=300
MOCK_MAX_DELAY_MS=1500
MOCK_ERROR_RATE=0.05  # 5% chance of simulated errors

# ========================
# AI/ML INTEGRATIONS (TODO)
# ========================

# OpenAI Configuration
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_MAX_TOKENS=4096
OPENAI_TEMPERATURE=0.1

# Alternative: Anthropic Claude
ANTHROPIC_API_KEY=your-anthropic-api-key-here
ANTHROPIC_MODEL=claude-3-opus-20240229

# Alternative: Local LLM (Ollama, vLLM)
LOCAL_LLM_URL=http://localhost:11434
LOCAL_LLM_MODEL=llama2:13b

# OCR Configuration
TESSERACT_PATH=/usr/bin/tesseract  # Path to tesseract executable
OCR_LANGUAGE=eng  # Language for OCR
OCR_DPI=300  # DPI for image processing

# ========================
# WHATSAPP INTEGRATION (TODO)
# ========================

# WhatsApp Business API (Official)
WHATSAPP_BUSINESS_ID=
WHATSAPP_ACCESS_TOKEN=
WHATSAPP_API_VERSION=v18.0
WHATSAPP_PHONE_NUMBER_ID=

# Twilio WhatsApp (Alternative)
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_WHATSAPP_NUMBER=

# Playwright Configuration (for WhatsApp Web automation)
PLAYWRIGHT_HEADLESS=true
PLAYWRIGHT_SLOW_MO=100  # milliseconds between actions
PLAYWRIGHT_TIMEOUT=30000  # 30 seconds timeout
WHATSAPP_SESSION_DIR=./whatsapp_sessions

# ========================
# FILE STORAGE
# ========================

# Local Storage (default)
LOCAL_STORAGE_PATH=./uploads
LOCAL_STORAGE_URL_PREFIX=/uploads

# AWS S3 Configuration (alternative)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
AWS_S3_BUCKET=hr-platform-resumes
AWS_S3_ENDPOINT_URL=  # Leave empty for AWS, set for S3-compatible services

# Google Cloud Storage (alternative)
GCS_BUCKET_NAME=
GCS_CREDENTIALS_FILE_PATH=./service-account.json

# ========================
# GOOGLE SHEETS INTEGRATION
# ========================

# Google Sheets API
GOOGLE_SHEETS_CREDENTIALS_FILE=./google-service-account.json
GOOGLE_SHEETS_TOKEN_FILE=./google-token.json
GOOGLE_SHEETS_SCOPES=["https://www.googleapis.com/auth/spreadsheets"]
DEFAULT_SHEET_ID=your-default-google-sheet-id
DEFAULT_SHEET_NAME=Candidates
AUTO_SYNC_INTERVAL=30  # minutes

# ========================
# EMAIL & NOTIFICATIONS
# ========================

# SMTP Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_NAME="HR Platform"
SMTP_FROM_EMAIL=noreply@example.com
SMTP_TLS=true
SMTP_SSL=false

# Notification Settings
NOTIFY_ON_RESUME_PARSE=true
NOTIFY_ON_MESSAGE_SENT=false
NOTIFY_ON_REPLY_RECEIVED=true
NOTIFY_ON_HR_REVIEW_NEEDED=true

# ========================
# LOGGING & MONITORING
# ========================

# Logging Configuration
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json  # json, text
LOG_FILE=./logs/app.log
LOG_MAX_SIZE=10485760  # 10MB
LOG_BACKUP_COUNT=10

# Sentry Configuration (Error Tracking)
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=1.0

# Prometheus Metrics
PROMETHEUS_ENABLED=true
METRICS_PORT=9090

# ========================
# RATE LIMITING
# ========================

# API Rate Limits
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100  # requests per minute
RATE_LIMIT_PERIOD=60  # seconds

# Upload Rate Limits
UPLOAD_RATE_LIMIT=5  # uploads per minute per user
PARSE_RATE_LIMIT=10  # parses per minute per org

# ========================
# CACHE CONFIGURATION
# ========================

# Redis Cache
CACHE_ENABLED=true
CACHE_TTL=300  # 5 minutes
CACHE_MAX_ENTRIES=1000
CACHE_PREFIX=hr_platform

# ========================
# FEATURE FLAGS
# ========================

# Enable/Disable Features
FEATURE_RESUME_PARSING=true
FEATURE_MESSAGING=true
FEATURE_WHATSAPP_INTEGRATION=false
FEATURE_GOOGLE_SHEETS_SYNC=false
FEATURE_EMAIL_NOTIFICATIONS=false
FEATURE_DASHBOARD_ANALYTICS=true
FEATURE_ADVANCED_FILTERS=true
FEATURE_BULK_OPERATIONS=true

# ========================
# DEVELOPMENT & DEBUGGING
# ========================

# Debug Settings
DEBUG=true
SQL_ECHO=false  # Set to true to see SQL queries
AUTO_RELOAD=true
PROFILING_ENABLED=false

# Test Configuration
TEST_DATABASE_URL=postgresql://postgres:password@localhost:5432/hr_platform_test
TEST_REDIS_URL=redis://localhost:6379/2
TEST_UPLOAD_DIR=./test_uploads